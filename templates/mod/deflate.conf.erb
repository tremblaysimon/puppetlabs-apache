<%- @types.sort.each do |type| -%>
AddOutputFilterByType DEFLATE <%= type %>
<%- end -%>

<%- @notes.sort.each do |type,note| -%>
DeflateFilterNote <%= type %> <%=note %>
<%- end -%>
<Location />
        # Insert filter
        AddOutputFilterByType DEFLATE text/html text/css text/plain text/xml application/x-javascript application/javascript text/javascript
        SetOutputFilter DEFLATE
#AddOutputFilterByType DEFLATE text/html text/plain text/xml text/x-js text/css


        # Netscape 4.x has some problems...
        BrowserMatch ^Mozilla/4 gzip-only-text/html

        # Netscape 4.06-4.08 have some more problems
        BrowserMatch ^Mozilla/4\.0[678] no-gzip

        # MSIE masquerades as Netscape, but it is fine
        BrowserMatch \bMSIE !no-gzip !gzip-only-text/html

        # Don't compress images
        SetEnvIfNoCase Request_URI \
        \.(?:gif|jpe?g|png)$ no-gzip dont-vary
#                \.(?:gif|jpe?g|png)$ no-gzip dont-vary
        # Make sure proxies don't deliver the wrong content
        Header append Vary User-Agent env=!dont-vary
</Location>
DeflateFilterNote Input input_info
DeflateFilterNote Output output_info
DeflateFilterNote Ratio ratio_info
#LogFormat '"%t %h %r" %{output_info}n/%{input_info}n (%{ratio_info}n%%)' deflate
#CustomLog /var/log/apache2/deflate.log deflate
<FilesMatch "\\.(js|css|html|htm|php|xml)$">
        SetOutputFilter DEFLATE
</FilesMatch>
